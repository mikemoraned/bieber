// Generated by CoffeeScript 1.6.3
(function() {
  var bieberBuffer, context, loadBieber, onError, playSound,
    _this = this;

  window.AudioContext = window.AudioContext || window.webkitAudioContext;

  navigator.getUserMedia = navigator.getUserMedia || navigator.oGetUserMedia || navigator.msGetUserMedia || navigator.mozGetUserMedia || navigator.webkitGetUserMedia;

  context = new AudioContext();

  onError = function(e) {
    return console.log('error', e);
  };

  bieberBuffer = null;

  loadBieber = function(url) {
    var request;
    request = new XMLHttpRequest();
    request.open('GET', url, true);
    request.responseType = 'arraybuffer';
    request.onload = function() {
      return context.decodeAudioData(request.response, function(buffer) {
        return bieberBuffer = buffer;
      }, console.log("Bieber loaded"), onError);
    };
    return request.send();
  };

  playSound = function(buffer) {
    var source;
    source = context.createBufferSource();
    source.buffer = buffer;
    source.connect(context.destination);
    return source.start(0);
  };

  loadBieber("/sounds/bieber.wav");

  window.playBieber = function() {
    return playSound(bieberBuffer);
  };

}).call(this);

/*
//@ sourceMappingURL=sounds.map
*/
